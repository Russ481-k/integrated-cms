---
globs: *.tsx,*.ts,*.jsx,*.js,*.css,*.scss
description: í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ ê°€ì´ë“œë¼ì¸ ë° ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°
---

# í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ ê°€ì´ë“œë¼ì¸

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

### Core Framework
- **Next.js 14** (App Router) + React 18
- **TypeScript 5** + ì—„ê²©í•œ íƒ€ì… ê²€ì‚¬
- **Chakra UI** + Framer Motion
- **TanStack Query** + Zustand

### ìƒíƒœ ê´€ë¦¬
- **ì„œë²„ ìƒíƒœ**: TanStack Query (React Query)
- **í´ë¼ì´ì–¸íŠ¸ ì „ì—­ ìƒíƒœ**: Zustand
- **í¼ ìƒíƒœ**: React Hook Form + Zod ê²€ì¦

## ğŸ“ ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°

```
src/
â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”œâ”€â”€ (auth)/                   # ì¸ì¦ ê´€ë ¨ í˜ì´ì§€
â”‚   â”œâ”€â”€ main/                     # ë©”ì¸ í˜ì´ì§€
â”‚   â”œâ”€â”€ services/                 # ì„œë¹„ìŠ¤ ê´€ë¦¬
â”‚   â”œâ”€â”€ content/                  # ì½˜í…ì¸  ê´€ë¦¬
â”‚   â”œâ”€â”€ admin/                    # ê´€ë¦¬ì/ê¶Œí•œ
â”‚   â””â”€â”€ system/                   # ì‹œìŠ¤í…œ ê´€ë¦¬
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/                       # ê¸°ë³¸ UI ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ common/                   # ê³µí†µ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ layout/                   # ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸
â”‚   â””â”€â”€ [feature]/                # ê¸°ëŠ¥ë³„ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ api/                      # API í´ë¼ì´ì–¸íŠ¸
â”‚   â”œâ”€â”€ hooks/                    # ì»¤ìŠ¤í…€ í›…
â”‚   â”œâ”€â”€ stores/                   # Zustand ìŠ¤í† ì–´
â”‚   â””â”€â”€ utils/                    # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â””â”€â”€ types/                        # TypeScript íƒ€ì… ì •ì˜
```

## ğŸ¨ ì»´í¬ë„ŒíŠ¸ ì„¤ê³„ ì›ì¹™

### ì„œë¹„ìŠ¤ ì„ íƒ íŒ¨í„´
ëª¨ë“  í†µí•© ê´€ë¦¬ í˜ì´ì§€ëŠ” ì„œë¹„ìŠ¤ ì„ íƒ ê¸°ëŠ¥ì„ í¬í•¨:
```tsx
interface ServiceSelectStore {
  selectedService: number | null;
  servicePermissions: Record<number, string[]>;
  setSelectedService: (serviceId: number | null) => void;
  clearSelection: () => void;
}
```

### ê¶Œí•œ ê¸°ë°˜ ë Œë”ë§
```tsx
function ProtectedComponent({ permission, children }: ProtectedComponentProps) {
  const { hasPermission } = usePermission();
  
  if (!hasPermission(permission)) {
    return <AccessDenied />;
  }
  
  return <>{children}</>;
}
```

### í†µí•© í˜ì´ì§€ ê³µí†µ êµ¬ì¡°
```tsx
interface UnifiedPageProps<T> {
  serviceId: number | null; // nullì¸ ê²½ìš° ì „ì²´ ì„œë¹„ìŠ¤
  data: T[];
  isLoading: boolean;
  view: 'table' | 'grid' | 'list';
  actions: {
    onEdit?: (id: number) => void;
    onDelete?: (id: number) => void;
    onSync?: (id: number) => void;
  };
}
```

## ğŸ” ì¸ì¦ ë° ê¶Œí•œ

### API í˜¸ì¶œ íŒ¨í„´
```tsx
const { data, error } = useQuery({
  queryKey: ['unified-content', serviceId],
  queryFn: () => unifiedApi.content.getList({ serviceId }),
  enabled: !!serviceId && hasPermission('CONTENT_READ'),
});
```

### ì„œë¹„ìŠ¤ ì„ íƒ í›…
```tsx
const useServiceSelect = () => {
  const selectedService = useServiceStore(state => state.selectedService);
  const setSelectedService = useServiceStore(state => state.setSelectedService);
  
  return { selectedService, setSelectedService };
};
```

## ğŸ“± ë°˜ì‘í˜• ë””ìì¸

- **ëª¨ë°”ì¼ ìš°ì„ **: `base` â†’ `md` â†’ `lg` â†’ `xl`
- **Chakra UI ë¸Œë ˆì´í¬í¬ì¸íŠ¸** í™œìš©
- **ì ‘ê·¼ì„±**: WCAG 2.1 AA ìˆ˜ì¤€ ì¤€ìˆ˜

ìì„¸í•œ ì»´í¬ë„ŒíŠ¸ ëª…ì„¸ëŠ” [05-unified-cms-frontend-specification.md](mdc:.cursor/docs/v2/05-unified-cms-frontend-specification.md)ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.